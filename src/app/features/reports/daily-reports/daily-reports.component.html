<div class="grid grid-cols-2 gap-4">
  <p-fieldset legend="EXPENSES" [toggleable]="false">
    <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()">
      <div class="grid grid-flow-row gap-2 mb-4">
        <label for="expense_amount">EXPENSES AMOUNT</label>
        <p-inputNumber
          formControlName="expense_amount"
          required
          id="expense_amount"
          placeholder="Ex. 1000"
          currency="PHP"
          aria-describedby="expense_amount-help"
          styleClass="w-full"
          mode="currency"
        />
        @if (expenseForm.get('expense_amount')?.hasError('required') &&
        expenseForm.get('expense_amount')?.touched) {
        <small class="p-error block"> Expense Amount is required! </small>
        }
      </div>

      <div class="grid grid-flow-row gap-2 mb-4">
        <label for="expense_detail">EXPENSES DESCRIPTION</label>
        <input
          formControlName="expense_detail"
          required
          pInputText
          id="expense_detail"
          placeholder="Ex. ELECTRIC BILL"
          aria-describedby="expense_detail-help"
          toUppercase
        />
        @if (expenseForm.get('expense_detail')?.hasError('required') &&
        expenseForm.get('expense_detail')?.touched) {
        <small class="p-error block"> Expense Details is required! </small>
        }
      </div>

      <p-button
        [disabled]="expenseForm.invalid"
        type="submit"
        label="Add to list"
      ></p-button>
    </form>

    <p-divider></p-divider>

    <div class="mt-4">
      <p-table [value]="expenseList">
        <ng-template pTemplate="header">
          <tr>
            <th>EXPENSE DETAILS</th>
            <th>AMOUNT</th>
            <th>ACTION</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.expense_detail }}</td>
            <td>{{ item.expense_amount | currency : "PHP" }}</td>
            <td>
              <p-button
                (click)="deleteExpense(item.expense_id)"
                icon="pi pi-trash"
                [rounded]="true"
                [text]="true"
                severity="danger"
              />
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="2">Empty List</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </p-fieldset>

  <p-fieldset legend="CASH ON HAND" [toggleable]="false">
    <form [formGroup]="cashOnHandForm" (ngSubmit)="saveCashOnHand()">
      <div class="grid grid-flow-row gap-2 mb-4">
        <label for="cash_amount">CASH ON HAND AMOUNT</label>
        <p-inputNumber
          formControlName="cash_amount"
          required
          id="cash_amount"
          placeholder="Ex. 1000"
          currency="PHP"
          aria-describedby="cash_amount-help"
          styleClass="w-full"
          mode="currency"
        />
        @if (cashOnHandForm.get('cash_amount')?.hasError('required') &&
        cashOnHandForm.get('cash_amount')?.touched) {
        <small class="p-error block"> Expense Amount is required! </small>
        }
      </div>
      <p-button
        [disabled]="cashOnHandForm.invalid"
        type="submit"
        label="Save Cash on Hand"
      ></p-button>
    </form>
  </p-fieldset>
</div>
