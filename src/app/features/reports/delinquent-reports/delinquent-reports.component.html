<p-fieldset
  legend="Generate Address by:"
  [toggleable]="false"
  styleClass="py-5"
>
  <div class="grid grid-cols-4 gap-6">
    <div class="col-span-1">
      <form [formGroup]="criteriaForm">
        <div class="grid grid-flow-row gap-2 w-full">
          <label for="criteria">
            <strong>CRITERIA</strong>
          </label>
          <p-dropdown
            [options]="delinquentReportCriteria"
            [checkmark]="true"
            name="criteria"
            optionLabel="label"
            optionValue="value"
            placeholder="Select a City"
            styleClass="w-full"
            formControlName="selectedCriteria"
            [showClear]="true"
            (onChange)="handleCriteriaChange($event)"
            oninput="this.value = this.value.toUpperCase();"
          />
        </div>
      </form>
    </div>

    <div class="col-span-3">
      <form [formGroup]="reportsFilterForm">
        <div class="grid grid-cols-4 gap-4 items-start">
          <div class="grid grid-flow-row gap-2">
            <label for="region">REGION</label>
            <p-dropdown
              styleClass="w-full"
              [options]="regionList"
              optionLabel="regionName"
              optionValue="code"
              [filter]="true"
              filterBy="regionName"
              [showClear]="true"
              checkmark="true"
              styleClass="w-full !uppercase"
              class="w-full !uppercase"
              placeholder="Select Region"
              formControlName="region"
              [lazy]="true"
              panelStyleClass="uppercase"
              (onChange)="onRegionChange($event)"
            >
            </p-dropdown>
          </div>

          <div class="grid grid-flow-row gap-2">
            <label for="province">PROVINCE</label>
            <p-dropdown
              styleClass="w-full"
              [options]="provinceList"
              optionLabel="name"
              optionValue="code"
              [filter]="true"
              filterBy="name"
              formControlName="province"
              [showClear]="true"
              placeholder="Select Province"
              (onChange)="onProvinceChange($event)"
            >
            </p-dropdown>
          </div>

          <div class="grid grid-flow-row gap-2">
            <label for="city">CITY</label>
            <p-dropdown
              styleClass="w-full"
              [options]="cityList"
              optionLabel="name"
              optionValue="code"
              [filter]="true"
              filterBy="name"
              [showClear]="true"
              placeholder="Select City"
              (onChange)="onCityChange($event)"
              formControlName="city"
            >
            </p-dropdown>
          </div>

          <div class="grid grid-flow-row gap-2">
            <label for="barangay">BARANGAY</label>
            <p-dropdown
              styleClass="w-full"
              [options]="barangayList"
              optionLabel="name"
              optionValue="code"
              [filter]="true"
              filterBy="name"
              [showClear]="true"
              placeholder="Select Barangay"
              formControlName="barangay"
            >
            </p-dropdown>
          </div>
        </div>
      </form>
    </div>
  </div>

  <p-divider />

  <p-button
    styleClass="mt-8"
    label="Generate Report"
    (onClick)="getDelinquentReport()"
    icon="pi pi-file"
  ></p-button>
</p-fieldset>
